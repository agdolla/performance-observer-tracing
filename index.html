<!DOCTYPE html>
<html>
<head>
<script src="performance_timeline_emit.js"></script>
<script src="style_mutation_event.js"></script>
<script src="frame_timestamps.js"></script>
<script src="event_performance.js"></script>
<script src="input_latency_monitor.js"></script>
<script>
window.addEventListener("load", function() {
  document.addEventListener("click", function() {
    console.log("click");
    const now = performance.now();
    while (performance.now() < now + 1000){}
  });

  document.addEventListener("mousemove", () => {});
});

let lastEntryTime = null;

var observer = new PerformanceObserver(function(list) {
  for (const entry of list.getEntries()) {
    if (entry.entryType == 'event' || entry.entryType == 'longFrame') {
      if (lastEntryTime) {
        console.assert(entry.startTime > lastEntryTime);
      }
      lastEntryTime = entry.startTime;
    }
    console.log("Name: "          + entry.name      +
                " \nEntry Type: " + entry.entryType +
                " \nStart Time: " + entry.startTime +
                " \nDuration: "   + entry.duration  + "\n");
  }
});

observer.observe({entryTypes: ['resource', 'mark', 'measure', 'foo', 'longFrame', 'event', 'styleupdate']});

</script>
<style>
#box {
  width:50px;
  height:50px;
  background-color:blue;
}

#box:hover {
  background-color:red;
}
</style>
</head>
<body>
<div id="box" report-styleupdate></div>
</body>
</html>
